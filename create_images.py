"""
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π-–∑–∞–≥–ª—É—à–µ–∫ –¥–ª—è –±–æ—Ç–∞.
–ó–∞–ø—É—Å—Ç–∏ –æ–¥–∏–Ω —Ä–∞–∑: python create_images.py
–ü–æ—Å–ª–µ ‚Äî –∑–∞–º–µ–Ω–∏ –∏—Ö —Å–≤–æ–∏–º–∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏.
"""

from PIL import Image, ImageDraw, ImageFont
import os

os.makedirs("images", exist_ok=True)

IMAGES = {
    "welcome": {
        "bg": (10, 40, 80),
        "text": "‚úàÔ∏è –í–û–ô–î–ò –í –ò–°–¢–û–†–ò–Æ!\n–ö–Ω–∏–≥–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤ –ì–∏–Ω–Ω–µ—Å—Å–∞\n–ü–æ–∂–µ–ª–∞–Ω–∏–µ –Ω–∞ —Å–∞–º–æ–ª—ë—Ç–µ –†–æ–Ω–∞–ª–¥—É",
        "emoji_hint": "üåüüèÜ‚úàÔ∏è",
    },
    "plans": {
        "bg": (80, 20, 100),
        "text": "üí´ –í–´–ë–ï–†–ò –ü–õ–ê–ù\nü•á 300 ‚≠ê ‚Äî 1 –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ\nü•à 200 ‚≠ê ‚Äî 2 –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è\nü•â 100 ‚≠ê ‚Äî 5 –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π",
        "emoji_hint": "üí∞‚≠ê",
    },
    "payment": {
        "bg": (20, 80, 60),
        "text": "üí≥ –û–ü–õ–ê–¢–ê –ó–í–Å–ó–î–ê–ú–ò\nB–µ–∑–æ–ø–∞—Å–Ω–æ —á–µ—Ä–µ–∑ Telegram\n–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø–∏—à–µ—à—å –ø–æ–∂–µ–ª–∞–Ω–∏–µ",
        "emoji_hint": "‚≠êüí´",
    },
    "success": {
        "bg": (20, 100, 40),
        "text": "üéâ –û–ü–õ–ê–¢–ê –ü–†–û–®–õ–ê!\n–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–∏ –ø–æ–∂–µ–ª–∞–Ω–∏–µ\n–û–Ω–æ –ø–æ–ª–µ—Ç–∏—Ç –Ω–∞ —Å–∞–º–æ–ª—ë—Ç–µ ‚úàÔ∏è",
        "emoji_hint": "‚úÖüéä",
    },
    "wish_saved": {
        "bg": (100, 60, 10),
        "text": "‚úçÔ∏è –ü–û–ñ–ï–õ–ê–ù–ò–ï –°–û–•–†–ê–ù–ï–ù–û!\n–ü–æ–¥–µ–ª–∏—Å—å —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–∑—å—è–º–∏\n–ß—Ç–æ–±—ã –æ–Ω–∏ —Ç–æ–∂–µ –≤–æ—à–ª–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é",
        "emoji_hint": "üìù‚úâÔ∏è",
    },
    "invite": {
        "bg": (60, 20, 100),
        "text": "üë• –ü–†–ò–ì–õ–ê–°–ò –î–†–£–ó–ï–ô!\n–û—Ç–ø—Ä–∞–≤—å —Å–≤–æ—é —Å—Å—ã–ª–∫—É\n–ü—Ä–æ–≤–µ—Ä—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π",
        "emoji_hint": "üîóüë´",
    },
    "completed": {
        "bg": (10, 80, 80),
        "text": "üèÜ –£–°–õ–û–í–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´!\n–¢—ã —É—á–∞—Å—Ç–Ω–∏–∫ —Ä–æ–∑—ã–≥—Ä—ã—à–∞\n100 –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –ß–ú-2026 ‚öΩ",
        "emoji_hint": "üéüü•á",
    },
}

W, H = 800, 450


def create_image(filename: str, bg: tuple, text: str):
    img = Image.new("RGB", (W, H), color=bg)
    draw = ImageDraw.Draw(img)

    # –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–µ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Å–Ω–∏–∑—É
    for y in range(H):
        alpha = int(80 * y / H)
        draw.line([(0, y), (W, y)], fill=tuple(max(0, c - alpha) for c in bg))

    # –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫—Ä—É–≥–∏
    for cx, cy, r, col in [
        (50, 50, 80, (255, 255, 255, 30)),
        (W - 60, H - 60, 100, (255, 220, 0, 20)),
        (W // 2, 30, 60, (255, 255, 255, 15)),
    ]:
        for i in range(3):
            draw.ellipse(
                [cx - r + i * 5, cy - r + i * 5, cx + r - i * 5, cy + r - i * 5],
                outline=(255, 255, 255, 50 - i * 15),
                width=2,
            )

    # –¢–µ–∫—Å—Ç (–±–∞–∑–æ–≤—ã–π, –±–µ–∑ —Å–ø–µ—Ü—à—Ä–∏—Ñ—Ç–∞)
    lines = text.split("\n")
    y_start = H // 2 - len(lines) * 30
    for i, line in enumerate(lines):
        # –£–±–∏—Ä–∞–µ–º —ç–º–æ–¥–∑–∏ –¥–ª—è PIL (–Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
        clean = "".join(c for c in line if ord(c) < 65536)
        draw.text((W // 2, y_start + i * 55), clean, fill="white", anchor="mm")

    img.save(f"images/{filename}.jpg", "JPEG", quality=90)
    print(f"‚úÖ images/{filename}.jpg")


if __name__ == "__main__":
    print("üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π-–∑–∞–≥–ª—É—à–µ–∫...")
    for name, cfg in IMAGES.items():
        create_image(name, cfg["bg"], cfg["text"])
    print("\n‚úÖ –ì–æ—Ç–æ–≤–æ! –ó–∞–º–µ–Ω–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∞–ø–∫–µ images/ —Å–≤–æ–∏–º–∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏.")
    print("   –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 800√ó450 px, —Ñ–æ—Ä–º–∞—Ç JPG")
